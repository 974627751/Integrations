{
  "id": "lyft",
  "title": "Lyft",
  "description": "Drive your app to success with Lyft's API",
  "security": {
    "lyft": {
      "integration": "lyft",
      "fields": {
        "access_token": "An OAuth access token",
        "refresh_token": "An OAuth refresh token (optional)",
        "client_id": "An OAuth client ID (optional)",
        "client_secret": "An OAuth client secret (optional)",
        "redirect_uri": "The callback URL for your application"
      },
      "oauth": {
        "authorizationUrl": "https://api.lyft.com/oauth/authorize",
        "description": "OAuth 2.0 - User Credentials",
        "flow": "accessCode",
        "scopes": {
          "profile": "Access profile information about the user",
          "public": "Access public information such as ETAs and cost estimates",
          "rides.read": "Access information about the user's current and past rides",
          "rides.request": "Request a ride for the user. Cancel an existing request.\n"
        },
        "tokenUrl": "https://api.lyft.com/oauth/token",
        "type": "oauth2"
      }
    }
  },
  "logo": {
    "url": "https://s3-us-west-2.amazonaws.com/datafire-logos/lyft.png"
  },
  "actionCount": 18,
  "definitions": {
    "ApiError": {
      "description": "Details about why a request failed, such as missing or invalid parameters",
      "properties": {
        "error": {
          "description": "A \"slug\" that serves as the error code (eg. \"bad_parameter\")",
          "type": "string"
        },
        "error_description": {
          "description": "A user-friendly description of the error (appropriate to show to an end-user)",
          "type": "string"
        },
        "error_detail": {
          "items": {
            "$ref": "#/definitions/ErrorDetail"
          },
          "type": "array"
        }
      },
      "title": "ApiError"
    },
    "CancellationCost": {
      "allOf": [
        {
          "$ref": "#/definitions/Cost"
        },
        {
          "properties": {
            "token": {
              "description": "Token used to confirm the fee when cancelling a request",
              "type": "string"
            },
            "token_duration": {
              "description": "How long, in seconds, before the token expires",
              "format": "int32",
              "minimum": 0,
              "type": "integer"
            }
          },
          "type": "object"
        }
      ],
      "type": "object",
      "title": "CancellationCost"
    },
    "CancellationCostError": {
      "allOf": [
        {
          "$ref": "#/definitions/CancellationCost"
        },
        {
          "$ref": "#/definitions/ApiError"
        }
      ],
      "example": {
        "amount": 500,
        "currency": "USD",
        "error": "cancel_confirmation_required",
        "error_detail": [
          {
            "cancel_confirmation": "a valid cancel_confirmation_token is required to cancel a ride"
          }
        ],
        "token": "656a91d",
        "token_duration": 60
      },
      "type": "object",
      "title": "CancellationCostError"
    },
    "CancellationRequest": {
      "example": {
        "cancel_confirmation_token": "656a91d"
      },
      "properties": {
        "cancel_confirmation_token": {
          "description": "Token affirming the user accepts the cancellation fee. Required if a cancellation fee is in effect.",
          "type": "string"
        }
      },
      "title": "CancellationRequest"
    },
    "Charge": {
      "properties": {
        "amount": {
          "description": "The line item amount",
          "format": "int32",
          "type": "integer"
        },
        "currency": {
          "description": "The currency for the amount",
          "type": "string"
        },
        "payment_method": {
          "description": "The payment method display name.",
          "type": "string"
        }
      },
      "required": [
        "amount",
        "currency",
        "payment_method"
      ],
      "title": "Charge"
    },
    "Cost": {
      "example": {
        "amount": 500,
        "currency": "USD",
        "description": "Total cost"
      },
      "properties": {
        "amount": {
          "description": "Total price of the ride",
          "format": "int32",
          "type": "integer"
        },
        "currency": {
          "description": "The ISO 4217 currency code for the amount (e.g. USD)",
          "type": "string"
        },
        "description": {
          "description": "The description for the cost",
          "type": "string"
        }
      },
      "required": [
        "amount",
        "currency",
        "description"
      ],
      "title": "Cost"
    },
    "CostEstimate": {
      "description": "A non-guaranteed estimate of price",
      "example": {
        "cost_token": "EupdCgIzy17lJoRmiO5",
        "display_name": "Lyft",
        "estimated_cost_cents_max": 1080,
        "estimated_cost_cents_min": 1390,
        "estimated_distance_miles": 12.4,
        "estimated_duration_seconds": 540,
        "is_valid_estimate": true,
        "primetime_confirmation_token": "EupdCgIzy17lJoRmiO5",
        "primetime_percentage": "25%",
        "ride_type": "lyft"
      },
      "properties": {
        "cost_token": {
          "description": "A token that confirms the user has accepted current Prime Time and/or fixed price charges. See 'Request a Lyft' for more details",
          "type": "string"
        },
        "currency": {
          "description": "The ISO 4217 currency code for the amount (e.g. 'USD')",
          "type": "string"
        },
        "display_name": {
          "description": "A human readable description of the ride type",
          "type": "string"
        },
        "estimated_cost_cents_max": {
          "description": "Estimated upper bound for trip cost, in minor units (cents). Estimates are not guaranteed, and only provide a reasonable range based on current conditions.\n",
          "format": "int32",
          "type": "integer"
        },
        "estimated_cost_cents_min": {
          "description": "Estimated lower bound for trip cost, in minor units (cents). Estimates are not guaranteed, and only provide a reasonable range based on current conditions.\n",
          "format": "int32",
          "type": "integer"
        },
        "estimated_distance_miles": {
          "description": "Estimated distance for this trip\n",
          "format": "double",
          "type": "number"
        },
        "estimated_duration_seconds": {
          "description": "Estimated time to get from the start location to the end.\n",
          "format": "int32",
          "type": "integer"
        },
        "is_valid_estimate": {
          "description": "The validity of the cost estimate returned",
          "type": "boolean"
        },
        "primetime_confirmation_token": {
          "description": "This token is needed when requesting rides. (Deprecated)",
          "type": "string"
        },
        "primetime_percentage": {
          "description": "Current Prime Time Percentage. Prime Time adds a percentage to ride costs, prior to other applicable fees. When ride requests greatly outnumber available drivers, our system will automatically turn on Prime Time.\nIf Prime Time is inactive, the value returned will be '0%'.\nNote: The returned estimate already has Prime Time factored in. The value is returned here for reference and to allow users to confirm/accept Prime Time prior to initiating a ride.\n",
          "type": "string"
        },
        "ride_type": {
          "$ref": "#/definitions/RideTypeEnum"
        }
      },
      "title": "CostEstimate"
    },
    "DriverDetail": {
      "example": {
        "first_name": "Joe",
        "image_url": "http://example.com/lyft.png",
        "phone_number": "+15554445000",
        "rating": "4.9"
      },
      "properties": {
        "first_name": {
          "description": "The driver's first name",
          "type": "string"
        },
        "image_url": {
          "description": "The driver's image url",
          "type": "string"
        },
        "phone_number": {
          "description": "The driver's contact phone number. Must be E.164 formatted.\n",
          "format": "phone",
          "type": "string"
        },
        "rating": {
          "description": "The driver's rating based in 0-5 scale",
          "type": "string"
        }
      },
      "required": [
        "first_name",
        "phone_number",
        "rating",
        "image_url"
      ],
      "title": "DriverDetail"
    },
    "ErrorDetail": {
      "description": "An object with a single key-value pair, where the key is the name of the invalid parameter, and the value is a description of the error.\n",
      "example": {
        "lat": "(latitude) Missing required parameter in the query string"
      },
      "properties": {
        "field_name": {
          "description": "description of the error",
          "type": "string"
        }
      },
      "title": "ErrorDetail"
    },
    "Eta": {
      "description": "Estimated Time of Arrival",
      "example": {
        "display_name": "Lyft Line",
        "eta_seconds": 120,
        "is_valid_estimate": true,
        "ride_type": "lyft_line"
      },
      "properties": {
        "display_name": {
          "description": "A human readable description of the ride type",
          "type": "string"
        },
        "eta_seconds": {
          "description": "Estimated seconds for a driver to arrive",
          "format": "int32",
          "type": "integer"
        },
        "eta_seconds_max": {
          "description": "Estimated upper bound of seconds for a driver to arrive",
          "format": "int32",
          "type": "integer"
        },
        "is_valid_estimate": {
          "description": "The validity of the ETA estimate returned",
          "type": "boolean"
        },
        "ride_type": {
          "$ref": "#/definitions/RideTypeEnum"
        }
      },
      "title": "Eta"
    },
    "LatLng": {
      "example": {
        "lat": 36.9442175,
        "lng": -123.8679133
      },
      "properties": {
        "lat": {
          "description": "The latitude component of a location",
          "format": "double",
          "type": "number"
        },
        "lng": {
          "description": "The longitude component of a location",
          "format": "double",
          "type": "number"
        }
      },
      "required": [
        "lat",
        "lng"
      ],
      "title": "LatLng"
    },
    "LineItem": {
      "properties": {
        "amount": {
          "description": "The line item amount",
          "format": "int32",
          "type": "integer"
        },
        "currency": {
          "description": "The currency for the amount",
          "type": "string"
        },
        "type": {
          "description": "The line item display name for a charge item",
          "type": "string"
        }
      },
      "required": [
        "type",
        "amount",
        "currency"
      ],
      "title": "LineItem"
    },
    "Location": {
      "allOf": [
        {
          "$ref": "#/definitions/LatLng"
        },
        {
          "properties": {
            "address": {
              "description": "A human readable address at/near the given location",
              "type": "string"
            }
          },
          "type": "object"
        }
      ],
      "example": {
        "address": "123 Main St, Anytown, CA",
        "lat": 36.9442175,
        "lng": -123.8679133
      },
      "type": "object",
      "title": "Location"
    },
    "NearbyDriver": {
      "properties": {
        "locations": {
          "description": "the lastest recorded driver locations up to 5 sorted in chronological order.",
          "items": {
            "$ref": "#/definitions/LatLng"
          },
          "type": "array"
        }
      },
      "title": "NearbyDriver"
    },
    "NearbyDriversByRideType": {
      "properties": {
        "drivers": {
          "description": "list of nearby drivers group by ride type sorted by eta",
          "items": {
            "$ref": "#/definitions/NearbyDriver"
          },
          "type": "array"
        },
        "ride_type": {
          "description": "driver's ride type. if driver is eligable for several ride types, he will be duplicated.",
          "type": "string"
        }
      },
      "title": "NearbyDriversByRideType"
    },
    "PassengerDetail": {
      "allOf": [
        {
          "$ref": "#/definitions/UserDetail"
        },
        {
          "properties": {
            "last_name": {
              "description": "The passenger's last name",
              "type": "string"
            },
            "user_id": {
              "description": "The passenger's lyft user id",
              "type": "string"
            }
          },
          "type": "object"
        }
      ],
      "example": {
        "first_name": "Jane",
        "image_url": "https://public-api.lyft.com/static/images/user.png",
        "last_name": "Doe",
        "rating": 4.9
      },
      "type": "object",
      "title": "PassengerDetail"
    },
    "PickupDropoffLocation": {
      "allOf": [
        {
          "$ref": "#/definitions/Location"
        },
        {
          "properties": {
            "time": {
              "description": "Server time when the location object is created",
              "format": "date-time",
              "type": "string"
            }
          },
          "type": "object"
        }
      ],
      "example": {
        "address": "123 Main St, Anytown, CA",
        "lat": 36.9442175,
        "lng": -123.8679133,
        "time": "2015-09-24T23:26:25+00:00"
      },
      "type": "object",
      "title": "PickupDropoffLocation"
    },
    "PricingDetails": {
      "example": {
        "base_charge": 175,
        "cancel_penalty_amount": 500,
        "cost_minumum": 500,
        "cost_per_mile": 116,
        "cost_per_minute": 23,
        "currency": "USD",
        "trust_and_service": 155
      },
      "properties": {
        "base_charge": {
          "description": "The base charge of the trip",
          "format": "int32",
          "type": "integer"
        },
        "cancel_penalty_amount": {
          "description": "The charge amount if cancel penalty is involved",
          "format": "int32",
          "type": "integer"
        },
        "cost_minimum": {
          "description": "The minimum charge for the trip",
          "format": "int32",
          "type": "integer"
        },
        "cost_per_mile": {
          "description": "The cost per mile",
          "format": "int32",
          "type": "integer"
        },
        "cost_per_minute": {
          "description": "The cost per minute",
          "format": "int32",
          "type": "integer"
        },
        "currency": {
          "description": "The ISO 4217 currency code for the amount (e.g. USD)",
          "type": "string"
        },
        "trust_and_service": {
          "description": "Service fee",
          "format": "int32",
          "type": "integer"
        }
      },
      "title": "PricingDetails"
    },
    "Profile": {
      "description": "Represents the general information about a user.",
      "properties": {
        "first_name": {
          "description": "The first name of this user",
          "type": "string"
        },
        "id": {
          "description": "The unique ID of this user",
          "type": "string"
        },
        "last_name": {
          "description": "The last name of this user",
          "type": "string"
        }
      },
      "required": [
        "id",
        "first_name",
        "last_name"
      ],
      "type": "object",
      "title": "Profile"
    },
    "RatingRequest": {
      "description": "Rating and optional feedback and tip",
      "example": {
        "feedback": "Great ride!",
        "rating": 5,
        "tip": {
          "amount": 100,
          "currency": "USD"
        }
      },
      "properties": {
        "feedback": {
          "description": "The passenger's written feedback about this ride",
          "type": "string"
        },
        "rating": {
          "description": "The passenger's rating of this ride from 1 to 5",
          "format": "int32",
          "maximum": 5,
          "minimum": 1,
          "type": "integer"
        },
        "tip": {
          "allOf": [
            {
              "$ref": "#/definitions/TipParams"
            }
          ],
          "description": "Tip amount in minor units and tip currency",
          "type": "object"
        }
      },
      "required": [
        "rating"
      ],
      "title": "RatingRequest"
    },
    "Ride": {
      "description": "Represents a requested, ongoing, or finished Lyft ride",
      "properties": {
        "cost_token": {
          "description": "A token that confirms the user has accepted current Prime Time and/or fixed price charges",
          "type": "string"
        },
        "destination": {
          "allOf": [
            {
              "$ref": "#/definitions/Location"
            }
          ],
          "description": "The *requested* location for passenger drop off",
          "type": "object"
        },
        "origin": {
          "allOf": [
            {
              "$ref": "#/definitions/Location"
            }
          ],
          "description": "The *requested* location for passenger pickup",
          "type": "object"
        },
        "primetime_confirmation_token": {
          "description": "A token that confirms the user has accepted current primetime charges (Deprecated)",
          "type": "string"
        },
        "ride_type": {
          "$ref": "#/definitions/RideTypeEnum"
        }
      },
      "required": [
        "ride_type",
        "origin"
      ],
      "type": "object",
      "title": "Ride"
    },
    "RideDetail": {
      "description": "Detail information about a ride",
      "example": {
        "destination": {
          "address": "987 Second St, Anytown, CA",
          "lat": 36.9453452,
          "lng": -123.8642521
        },
        "distance_miles": 16.2,
        "driver": {
          "first_name": "Joe",
          "image_url": "http://example.com/lyft.png",
          "phone_number": "+15554445111",
          "rating": "4.9"
        },
        "dropoff": {
          "address": "987 Second St, Anytown, CA",
          "lat": 36.9453452,
          "lng": -123.8642521,
          "time": "2015-09-24T23:28:25+00:00"
        },
        "duration_seconds": 1620,
        "line_items": [
          {
            "amount": 500,
            "currency": "USD",
            "type": "Ride"
          },
          {
            "amount": 250,
            "currency": "USD",
            "type": "Prime Time"
          },
          {
            "amount": 155,
            "currency": "USD",
            "type": "Service fee"
          }
        ],
        "location": {
          "address": "987 Second St, Anytown, CA",
          "lat": 36.9453452,
          "lng": -123.8642521
        },
        "origin": {
          "address": "123 Main St, Anytown, CA",
          "lat": 36.9442175,
          "lng": -123.8679133
        },
        "passenger": {
          "first_name": "Jane",
          "phone_number": "+15554445000",
          "user_id": "776630198662493392"
        },
        "pickup": {
          "address": "123 Main St, Anytown, CA",
          "lat": 36.9442175,
          "lng": -123.8679133,
          "time": "2015-09-24T23:27:25+00:00"
        },
        "price": {
          "amount": 905,
          "currency": "USD",
          "description": "Total ride price"
        },
        "primetime_percentage": "50%",
        "requested_at": "2015-09-24T23:26:25+00:00",
        "ride_id": 123456789,
        "ride_profile": "personal",
        "ride_type": "lyft",
        "status": "droppedOff",
        "vehicle": {
          "color": "black",
          "image_url": "http://example.com/lyft.png",
          "license_plate": "AAAAAAA",
          "make": "Audi",
          "model": "A4"
        }
      },
      "properties": {
        "can_cancel": {
          "items": {
            "description": "The array of actors who may cancel the ride at this point",
            "enum": [
              "driver",
              "passenger",
              "dispatcher"
            ],
            "type": "string"
          },
          "type": "array"
        },
        "canceled_by": {
          "description": "The role of user who canceled the ride (if applicable)",
          "type": "string"
        },
        "cancellation_price": {
          "allOf": [
            {
              "$ref": "#/definitions/CancellationCost"
            }
          ],
          "description": "The cost of cancellation if there would be a penalty",
          "type": "object"
        },
        "destination": {
          "allOf": [
            {
              "$ref": "#/definitions/RideLocation"
            }
          ],
          "description": "The *requested* location for passenger drop off",
          "type": "object"
        },
        "distance_miles": {
          "description": "The distance, in miles, that this ride traveled. This field is only present after drop-off",
          "format": "float",
          "type": "number"
        },
        "driver": {
          "$ref": "#/definitions/DriverDetail"
        },
        "dropoff": {
          "allOf": [
            {
              "$ref": "#/definitions/PickupDropoffLocation"
            }
          ],
          "description": "The *actual* location of passenger drop off",
          "type": "object"
        },
        "duration_seconds": {
          "description": "Duration of the ride in seconds from pickup to drop-off. This field is only present after drop-off.",
          "format": "int32",
          "type": "integer"
        },
        "feedback": {
          "description": "The written feedback the user left for this ride",
          "type": "string"
        },
        "generated_at": {
          "description": "The request timestamp in date and time",
          "format": "date-time",
          "type": "string"
        },
        "line_items": {
          "description": "The break down of cost",
          "items": {
            "$ref": "#/definitions/LineItem"
          },
          "type": "array"
        },
        "location": {
          "allOf": [
            {
              "$ref": "#/definitions/RideLocation"
            }
          ],
          "description": "The *current* location info of the ride",
          "type": "object"
        },
        "origin": {
          "allOf": [
            {
              "$ref": "#/definitions/RideLocation"
            }
          ],
          "description": "The *requested* location for passenger pickup",
          "type": "object"
        },
        "passenger": {
          "$ref": "#/definitions/PassengerDetail"
        },
        "pickup": {
          "allOf": [
            {
              "$ref": "#/definitions/PickupDropoffLocation"
            }
          ],
          "description": "The *actual* location of passenger pickup",
          "type": "object"
        },
        "price": {
          "allOf": [
            {
              "$ref": "#/definitions/Cost"
            }
          ],
          "description": "The total price for the current ride",
          "type": "object"
        },
        "primetime_percentage": {
          "description": "The Prime Time percentage applied to the base price",
          "type": "string"
        },
        "rating": {
          "description": "The rating the user left for this ride, from 1 to 5",
          "format": "int32",
          "type": "integer"
        },
        "requested_at": {
          "description": "The ride requested timestamp in date and time",
          "format": "date-time",
          "type": "string"
        },
        "ride_id": {
          "description": "The unique ID of this ride",
          "type": "string"
        },
        "ride_profile": {
          "allOf": [
            {
              "$ref": "#/definitions/RideProfileEnum"
            }
          ],
          "description": "Indicates whether the ride was requested from the business profile or personal profile of the user.\n",
          "type": "object"
        },
        "ride_type": {
          "$ref": "#/definitions/RideTypeEnumWithOther"
        },
        "route_url": {
          "description": "The web view showing the passenger, driver, and route for this ride. This field will only be present for rides created through this API, or that have been shared through the \"Share my Route\" feature\n",
          "type": "string"
        },
        "status": {
          "$ref": "#/definitions/RideStatusEnum"
        },
        "vehicle": {
          "$ref": "#/definitions/VehicleDetail"
        }
      },
      "type": "object",
      "title": "RideDetail"
    },
    "RideLocation": {
      "allOf": [
        {
          "$ref": "#/definitions/Location"
        },
        {
          "properties": {
            "eta_seconds": {
              "description": "Estimated seconds for a driver to pickup or reach destination based on ride status",
              "format": "int32",
              "type": "integer"
            }
          },
          "type": "object"
        }
      ],
      "example": {
        "address": "123 Main St, Anytown, CA",
        "eta_seconds": 200,
        "lat": 36.9442175,
        "lng": -123.8679133
      },
      "type": "object",
      "title": "RideLocation"
    },
    "RideProfileEnum": {
      "description": "The payment profile which the user has picked for the ride",
      "enum": [
        "personal",
        "business"
      ],
      "type": "string",
      "title": "RideProfileEnum"
    },
    "RideReceipt": {
      "description": "Receipt information of a processed ride.",
      "example": {
        "charges": [
          {
            "amount": 500,
            "currency": "USD",
            "payment_method": "Card"
          },
          {
            "amount": 405,
            "currency": "USD",
            "payment_method": "Lyft Credit"
          }
        ],
        "line_items": [
          {
            "amount": 500,
            "currency": "USD",
            "type": "Ride"
          },
          {
            "amount": 250,
            "currency": "USD",
            "type": "Prime Time"
          },
          {
            "amount": 155,
            "currency": "USD",
            "type": "Service fee"
          }
        ],
        "price": {
          "amount": 905,
          "currency": "USD",
          "description": "Total ride price"
        },
        "requested_at": "2015-09-24T23:26:25+00:00",
        "ride_id": 123456789,
        "ride_profile": "personal"
      },
      "properties": {
        "charges": {
          "description": "The break down of charge method",
          "items": {
            "$ref": "#/definitions/Charge"
          },
          "type": "array"
        },
        "line_items": {
          "description": "The break down of line items",
          "items": {
            "$ref": "#/definitions/LineItem"
          },
          "type": "array"
        },
        "price": {
          "allOf": [
            {
              "$ref": "#/definitions/Cost"
            }
          ],
          "description": "The total price for the current ride",
          "type": "object"
        },
        "requested_at": {
          "description": "The ride requested timestamp in date and time",
          "format": "date-time",
          "type": "string"
        },
        "ride_id": {
          "description": "The unique ID of this ride",
          "type": "string"
        },
        "ride_profile": {
          "allOf": [
            {
              "$ref": "#/definitions/RideProfileEnum"
            }
          ],
          "description": "Indicates whether the ride was requested from the business profile or personal profile of the user.\n",
          "type": "object"
        }
      },
      "type": "object",
      "title": "RideReceipt"
    },
    "RideRequest": {
      "description": "Minimal set of ride details",
      "example": {
        "destination": {
          "address": "123 Main St, Anytown, CA",
          "lat": 36.9442175,
          "lng": -123.8679133
        },
        "origin": {
          "address": "123 Main St, Anytown, CA",
          "lat": 36.9442175,
          "lng": -123.8679133
        },
        "passenger": {
          "first_name": "Jane",
          "image_url": "https://public-api.lyft.com/static/images/user.png",
          "rating": 4.9,
          "user_id": "776630198662493392"
        },
        "ride_id": 123456789,
        "status": "pending"
      },
      "properties": {
        "destination": {
          "allOf": [
            {
              "$ref": "#/definitions/Location"
            }
          ],
          "description": "The *requested* location for passenger drop off",
          "type": "object"
        },
        "origin": {
          "allOf": [
            {
              "$ref": "#/definitions/Location"
            }
          ],
          "description": "The *requested* location for passenger pickup",
          "type": "object"
        },
        "passenger": {
          "$ref": "#/definitions/PassengerDetail"
        },
        "ride_id": {
          "description": "The ID of the requested ride",
          "type": "string"
        },
        "status": {
          "$ref": "#/definitions/RideStatusEnum"
        }
      },
      "title": "RideRequest"
    },
    "RideRequestError": {
      "description": "Details about why a request failed, such as missing or invalid parameters",
      "properties": {
        "cost_token": {
          "description": "A token that confirms the user has accepted current Prime Time and/or fixed price charges",
          "type": "string"
        },
        "error": {
          "description": "A \"slug\" that serves as the error code (eg. \"bad_parameter\")",
          "type": "string"
        },
        "error_description": {
          "description": "A user-friendly description of the error (appropriate to show to an end-user)",
          "type": "string"
        },
        "error_detail": {
          "items": {
            "$ref": "#/definitions/ErrorDetail"
          },
          "type": "array"
        },
        "primetime_confirmation_token": {
          "description": "A token that confirms the user has accepted current Prime Time charges (Deprecated)",
          "type": "string"
        },
        "primetime_multiplier": {
          "description": "Current Prime Time multiplier (eg. if primetime_percentage is 100%, primetime_multiplier will be 2.0)",
          "format": "float",
          "type": "number"
        },
        "primetime_percentage": {
          "description": "Current Prime Time percentage",
          "type": "string"
        },
        "token_duration": {
          "description": "Validity of the token in seconds",
          "type": "string"
        }
      },
      "required": [
        "error"
      ],
      "title": "RideRequestError"
    },
    "RideStatusEnum": {
      "description": "The status of the ride",
      "enum": [
        "pending",
        "accepted",
        "arrived",
        "pickedUp",
        "droppedOff",
        "canceled",
        "unknown"
      ],
      "type": "string",
      "title": "RideStatusEnum"
    },
    "RideType": {
      "example": {
        "ride_types": [
          {
            "display_name": "Lyft Line",
            "image_url": "https://cdn.lyft.com/assets/car_standard.png",
            "pricing_details": {
              "base_charge": 200,
              "cancel_penalty_amount": 500,
              "cost_minimum": 475,
              "cost_per_mile": 115,
              "cost_per_minute": 23,
              "currency": "USD",
              "trust_and_service": 155
            },
            "ride_type": "lyft_line",
            "seats": 2
          },
          {
            "display_name": "Lyft",
            "image_url": "https://cdn.lyft.com/assets/car_standard.png",
            "pricing_details": {
              "base_charge": 200,
              "cancel_penalty_amount": 500,
              "cost_minimum": 500,
              "cost_per_mile": 115,
              "cost_per_minute": 23,
              "currency": "USD",
              "trust_and_service": 155
            },
            "ride_type": "lyft",
            "seats": 4
          },
          {
            "display_name": "Lyft Plus",
            "image_url": "https://cdn.lyft.com/assets/car_plus.png",
            "pricing_details": {
              "base_charge": 300,
              "cancel_penalty_amount": 500,
              "cost_minimum": 700,
              "cost_per_mile": 200,
              "cost_per_minute": 30,
              "currency": "USD",
              "trust_and_service": 155
            },
            "ride_type": "lyft_plus",
            "seats": 6
          }
        ]
      },
      "properties": {
        "display_name": {
          "description": "A human readable description of the ride type",
          "type": "string"
        },
        "image_url": {
          "description": "The URL of an image representing this ride type",
          "type": "string"
        },
        "pricing_details": {
          "$ref": "#/definitions/PricingDetails"
        },
        "ride_type": {
          "$ref": "#/definitions/RideTypeEnum"
        },
        "scheduled_pricing_details": {
          "$ref": "#/definitions/PricingDetails"
        },
        "seats": {
          "description": "The maximum number of seats available for rides requested with this ride type",
          "type": "integer"
        }
      },
      "title": "RideType"
    },
    "RideTypeEnum": {
      "description": "The ID of the ride type",
      "enum": [
        "lyft",
        "lyft_line",
        "lyft_plus"
      ],
      "type": "string",
      "title": "RideTypeEnum"
    },
    "RideTypeEnumWithOther": {
      "description": "The ID of the ride type",
      "enum": [
        "lyft",
        "lyft_line",
        "lyft_plus",
        "other"
      ],
      "type": "string",
      "title": "RideTypeEnumWithOther"
    },
    "SandboxDriverAvailability": {
      "example": {
        "driver_availability": true,
        "lat": 37.7833,
        "lng": -122.4167
      },
      "properties": {
        "driver_availability": {
          "description": "The availability of driver in a region",
          "type": "boolean"
        },
        "lat": {
          "description": "The latitude component of a location",
          "format": "double",
          "type": "number"
        },
        "lng": {
          "description": "The longitude component of a location",
          "format": "double",
          "type": "number"
        }
      },
      "required": [
        "lat",
        "lng",
        "driver_availability"
      ],
      "title": "SandboxDriverAvailability"
    },
    "SandboxPrimetime": {
      "example": {
        "lat": 37.7833,
        "lng": -122.4167,
        "primetime_percentage": "25%"
      },
      "properties": {
        "lat": {
          "description": "The latitude component of a location",
          "format": "double",
          "type": "number"
        },
        "lng": {
          "description": "The longitude component of a location",
          "format": "double",
          "type": "number"
        },
        "primetime_percentage": {
          "description": "The Prime Time to be applied as a string, e.g., '25%'",
          "type": "string"
        }
      },
      "required": [
        "lat",
        "lng",
        "primetime_percentage"
      ],
      "title": "SandboxPrimetime"
    },
    "SandboxRideStatus": {
      "example": {
        "status": "lyft"
      },
      "properties": {
        "status": {
          "$ref": "#/definitions/RideStatusEnum"
        }
      },
      "required": [
        "status"
      ],
      "title": "SandboxRideStatus"
    },
    "SandboxRideType": {
      "example": {
        "lat": 37.7833,
        "lng": -122.4167,
        "ride_types": [
          "lyft",
          "lyft_line",
          "lyft_plus"
        ]
      },
      "properties": {
        "lat": {
          "description": "The latitude component of a location",
          "format": "double",
          "type": "number"
        },
        "lng": {
          "description": "The longitude component of a location",
          "format": "double",
          "type": "number"
        },
        "ride_types": {
          "items": {
            "$ref": "#/definitions/RideTypeEnum"
          },
          "type": "array"
        }
      },
      "required": [
        "lat",
        "lng",
        "ride_types"
      ],
      "title": "SandboxRideType"
    },
    "SandboxRideUpdate": {
      "description": "Response when a sandbox ride is propagated through ride status",
      "example": {
        "ride_id": 123456789,
        "status": "accepted"
      },
      "properties": {
        "ride_id": {
          "description": "The ID of the ride",
          "type": "string"
        },
        "status": {
          "$ref": "#/definitions/RideStatusEnum"
        }
      },
      "type": "object",
      "title": "SandboxRideUpdate"
    },
    "Tip": {
      "example": {
        "amount": 300,
        "currency": "USD"
      },
      "properties": {
        "amount": {
          "description": "A tip for the driver in cents. To be charged to the user's default charge account.",
          "format": "int32",
          "minimum": 0,
          "type": "integer"
        },
        "currency": {
          "description": "The currency in which you want to tip. e.g. USD",
          "type": "string"
        }
      },
      "title": "Tip"
    },
    "TipParams": {
      "allOf": [
        {
          "$ref": "#/definitions/Tip"
        }
      ],
      "type": "object",
      "title": "TipParams"
    },
    "UserDetail": {
      "example": {
        "first_name": "Jane",
        "image_url": "https://public-api.lyft.com/static/images/user.png",
        "rating": 4.9
      },
      "properties": {
        "first_name": {
          "description": "The passenger's first name",
          "type": "string"
        },
        "image_url": {
          "description": "The passenger's profile image",
          "type": "string"
        },
        "rating": {
          "description": "The passenger's rating",
          "type": "string"
        }
      },
      "required": [
        "first_name",
        "image_url",
        "rating"
      ],
      "title": "UserDetail"
    },
    "VehicleDetail": {
      "example": {
        "color": "black",
        "image_url": "http://example.com/lyft.png",
        "license_plate": "AAAAAAA",
        "make": "Audi",
        "model": "A4"
      },
      "properties": {
        "color": {
          "description": "The vehicle's color",
          "type": "string"
        },
        "image_url": {
          "description": "The vehicle's image url",
          "type": "string"
        },
        "license_plate": {
          "description": "The vehicle's license plate",
          "type": "string"
        },
        "license_plate_state": {
          "description": "The vehicle's license plate state",
          "type": "string"
        },
        "make": {
          "description": "The vehicle's maker",
          "type": "string"
        },
        "model": {
          "description": "The vehicle's model",
          "type": "string"
        },
        "year": {
          "description": "The vehicle's model year",
          "format": "int32",
          "type": "integer"
        }
      },
      "required": [
        "make",
        "model",
        "year",
        "license_plate",
        "license_plate_state",
        "color",
        "image_url"
      ],
      "title": "VehicleDetail"
    }
  },
  "actions": [
    {
      "id": "oauthCallback",
      "title": "",
      "description": "Exchange the code passed to your redirect URI for an access_token",
      "inputSchema": {
        "type": "object",
        "properties": {
          "code": {
            "title": "code",
            "type": "string"
          }
        },
        "required": [
          "code"
        ]
      },
      "outputSchema": {
        "properties": {
          "access_token": {
            "type": "string"
          },
          "refresh_token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "scope": {
            "type": "string"
          },
          "expiration": {
            "type": "string"
          }
        }
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "oauthRefresh",
      "title": "",
      "description": "Exchange a refresh_token for an access_token",
      "inputSchema": {},
      "outputSchema": {
        "properties": {
          "access_token": {
            "type": "string"
          },
          "refresh_token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "scope": {
            "type": "string"
          },
          "expiration": {
            "type": "string"
          }
        }
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "GetCost",
      "title": "GetCost",
      "description": "Estimate the cost of taking a Lyft between two points.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "ride_type": {
            "type": "string",
            "description": "ID of a ride type",
            "enum": [
              "lyft",
              "lyft_line",
              "lyft_plus"
            ]
          },
          "start_lat": {
            "type": "number",
            "format": "double",
            "description": "Latitude of the starting location"
          },
          "start_lng": {
            "type": "number",
            "format": "double",
            "description": "Longitude of the starting location"
          },
          "end_lat": {
            "type": "number",
            "format": "double",
            "description": "Latitude of the ending location"
          },
          "end_lng": {
            "type": "number",
            "format": "double",
            "description": "Longitude of the ending location"
          }
        },
        "additionalProperties": false,
        "required": [
          "start_lat",
          "start_lng"
        ]
      },
      "outputSchema": {
        "properties": {
          "cost_estimates": {
            "items": {
              "$ref": "#/definitions/CostEstimate"
            },
            "type": "array"
          }
        },
        "title": "CostEstimateResponse",
        "type": "object"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "GetDrivers",
      "title": "GetDrivers",
      "description": "The drivers endpoint returns a list of nearby drivers' lat and lng at a given location.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "lat": {
            "type": "number",
            "format": "double",
            "description": "Latitude of a location"
          },
          "lng": {
            "type": "number",
            "format": "double",
            "description": "Longitude of a location"
          }
        },
        "additionalProperties": false,
        "required": [
          "lat",
          "lng"
        ]
      },
      "outputSchema": {
        "properties": {
          "nearby_drivers": {
            "items": {
              "$ref": "#/definitions/NearbyDriversByRideType"
            },
            "type": "array"
          }
        },
        "title": "NearbyDriversResponse",
        "type": "object"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "GetETA",
      "title": "GetETA",
      "description": "The ETA endpoint lets you know how quickly a Lyft driver can come get you\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "lat": {
            "type": "number",
            "format": "double",
            "description": "Latitude of a location"
          },
          "lng": {
            "type": "number",
            "format": "double",
            "description": "Longitude of a location"
          },
          "destination_lat": {
            "type": "number",
            "format": "double",
            "description": "Latitude of destination location"
          },
          "destination_lng": {
            "type": "number",
            "format": "double",
            "description": "Longitude of destination location"
          },
          "ride_type": {
            "type": "string",
            "description": "ID of a ride type",
            "enum": [
              "lyft",
              "lyft_line",
              "lyft_plus"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "lat",
          "lng"
        ]
      },
      "outputSchema": {
        "properties": {
          "eta_estimates": {
            "items": {
              "$ref": "#/definitions/Eta"
            },
            "type": "array"
          }
        },
        "title": "EtaEstimateResponse",
        "type": "object"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "GetProfile",
      "title": "GetProfile",
      "description": "The v1 of this endpoint returns the user's ID, v2 will return more general info about the user. We require authentication for this endpoint, so we extract the user ID from the access token.\n",
      "inputSchema": {},
      "outputSchema": {
        "$ref": "#/definitions/Profile"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "GetRides",
      "title": "GetRides",
      "description": "Get a list of past & current rides for this passenger.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "start_time": {
            "type": "string",
            "format": "date-time",
            "description": "Restrict to rides starting after this point in time. The earliest supported date is 2015-01-01T00:00:00+00:00\n"
          },
          "end_time": {
            "type": "string",
            "format": "date-time",
            "description": "Restrict to rides starting before this point in time. The earliest supported date is 2015-01-01T00:00:00+00:00\n"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "The maximum number of rides to return. The default limit is 10 if not specified. The maximum allowed value is 50, an integer greater that 50 will return at most 50 results.\n",
            "maximum": 50,
            "minimum": 0,
            "exclusiveMaximum": false,
            "exclusiveMinimum": true
          }
        },
        "additionalProperties": false,
        "required": [
          "start_time"
        ]
      },
      "outputSchema": {
        "properties": {
          "ride_history": {
            "items": {
              "$ref": "#/definitions/RideDetail"
            },
            "type": "array"
          }
        },
        "title": "RidesResponse",
        "type": "object"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "NewRide",
      "title": "NewRide",
      "description": "Request a Lyft come pick you up at the given location.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "request": {
            "$ref": "#/definitions/Ride"
          }
        },
        "additionalProperties": false,
        "required": [
          "request"
        ]
      },
      "outputSchema": {
        "$ref": "#/definitions/RideRequest"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "GetRide",
      "title": "GetRide",
      "description": "Get the status of a ride along with information about the driver, vehicle and price of a given ride ID\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the ride"
          }
        },
        "additionalProperties": false,
        "required": [
          "id"
        ]
      },
      "outputSchema": {
        "$ref": "#/definitions/RideDetail"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "CancelRide",
      "title": "CancelRide",
      "description": "Cancel a ongoing ride which was requested earlier by providing the ride id.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the ride"
          },
          "request": {
            "$ref": "#/definitions/CancellationRequest"
          }
        },
        "additionalProperties": false,
        "required": [
          "id"
        ]
      },
      "outputSchema": {},
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "SetRideDestination",
      "title": "SetRideDestination",
      "description": "Add or update the ride's destination. Note that the ride must still be active (not droppedOff or canceled), and that destinations on Lyft Line rides can not be changed.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the ride"
          },
          "request": {
            "$ref": "#/definitions/Location"
          }
        },
        "additionalProperties": false,
        "required": [
          "id",
          "request"
        ]
      },
      "outputSchema": {
        "$ref": "#/definitions/Location"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "SetRideRating",
      "title": "SetRideRating",
      "description": "Add the passenger's 1 to 5 star rating of the ride, optional written feedback, and optional tip amount in minor units and currency. The ride must already be dropped off, and ratings must be given within 24 hours of drop off. For purposes of display, 5 is considered the default rating. When this endpoint is successfully called, payment processing will begin.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the ride"
          },
          "request": {
            "$ref": "#/definitions/RatingRequest"
          }
        },
        "additionalProperties": false,
        "required": [
          "id",
          "request"
        ]
      },
      "outputSchema": {},
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "GetRideReceipt",
      "title": "GetRideReceipt",
      "description": "Get the receipt information of a processed ride by providing the ride id. Receipts will only be available to view once the payment has been processed. In the case of canceled ride, cancellation penalty is included if applicable.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the ride"
          }
        },
        "additionalProperties": false,
        "required": [
          "id"
        ]
      },
      "outputSchema": {
        "$ref": "#/definitions/RideReceipt"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "GetRideTypes",
      "title": "GetRideTypes",
      "description": "The ride types endpoint returns information about what kinds of Lyft rides you can request at a given location.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "lat": {
            "type": "number",
            "format": "double",
            "description": "Latitude of a location"
          },
          "lng": {
            "type": "number",
            "format": "double",
            "description": "Longitude of a location"
          },
          "ride_type": {
            "type": "string",
            "description": "ID of a ride type",
            "enum": [
              "lyft",
              "lyft_line",
              "lyft_plus"
            ]
          }
        },
        "additionalProperties": false,
        "required": [
          "lat",
          "lng"
        ]
      },
      "outputSchema": {
        "properties": {
          "ride_types": {
            "items": {
              "$ref": "#/definitions/RideType"
            },
            "type": "array"
          }
        },
        "title": "RideTypesResponse",
        "type": "object"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "SetPrimeTime",
      "title": "SetPrimeTime",
      "description": "Preset a Prime Time percentage in the region surrounding the specified location. This Prime Time percentage will be applied when requesting cost, or when requesting a ride in sandbox mode.\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "request": {
            "$ref": "#/definitions/SandboxPrimetime"
          }
        },
        "additionalProperties": false,
        "required": [
          "request"
        ]
      },
      "outputSchema": {},
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "SetRideStatus",
      "title": "SetRideStatus",
      "description": "Propagate a sandbox-ride through various ride status\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the ride"
          },
          "request": {
            "$ref": "#/definitions/SandboxRideStatus"
          }
        },
        "additionalProperties": false,
        "required": [
          "id",
          "request"
        ]
      },
      "outputSchema": {
        "$ref": "#/definitions/SandboxRideUpdate"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "SetRideTypes",
      "title": "SetRideTypes",
      "description": "The sandbox-ridetypes endpoint allows you to preset the ridetypes in the region surrounding the specified latitude and longitude to allow testing different scenarios\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "request": {
            "$ref": "#/definitions/SandboxRideType"
          }
        },
        "additionalProperties": false,
        "required": [
          "request"
        ]
      },
      "outputSchema": {
        "$ref": "#/definitions/SandboxRideType"
      },
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    },
    {
      "id": "SetRideTypeAvailability",
      "title": "SetRideTypeAvailability",
      "description": "Set driver availability for the provided ride_type in the city/region surrounding the specified location\n",
      "inputSchema": {
        "type": "object",
        "properties": {
          "ride_type": {
            "type": "string",
            "enum": [
              "lyft",
              "lyft_line",
              "lyft_plus"
            ]
          },
          "request": {
            "$ref": "#/definitions/SandboxDriverAvailability"
          }
        },
        "additionalProperties": false,
        "required": [
          "ride_type",
          "request"
        ]
      },
      "outputSchema": {},
      "security": {
        "lyft": {
          "integration": "lyft"
        }
      }
    }
  ],
  "tags": [
    "location"
  ]
}